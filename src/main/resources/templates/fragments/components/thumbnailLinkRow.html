<th:block th:fragment="style">
    <style>
        /* CSS used here will be applied after bootstrap.css */
        @media only screen and (min-width : 481px) {
            .row.equal-height {
                display: flex;
                flex-wrap: wrap;
            }
            .row.equal-height > [class*='col-'] {
                display: flex;
                flex-direction: column;
            }
            .row.equal-height.row:after,
            .row.equal-height.row:before {
                display: flex;
            }

            .row.equal-height > [class*='col-'] > .thumbnail,
            .row.equal-height > [class*='col-'] > .thumbnail > .caption {
                display: flex;
                flex: 1 0 auto;
                flex-direction: column;
            }
            .row.equal-height > [class*='col-'] > .thumbnail > .caption > .flex-text {
                flex-grow: 1;
            }
            .row.equal-height > [class*='col-'] > .thumbnail > img {
                width: 100%;
                height: 200px; /* force image's height */
                padding: 5px;
            }
        }

    </style>

    <th:block th:replace="/fragments/components/thumbnailLink::style" />
</th:block>

<div th:fragment="content (row)">
    <div class="row equal-height">
        <th:block th:each="col : ${row.columns}">
            <th:block th:replace="/fragments/components/thumbnailLink::content(
                    ${col.image},
                    ${col.label},
                    ${col.description},
                    ${col.link})"
            />
        </th:block>
    </div>
</div>

<th:block th:fragment="script">
    <th:block th:replace="/fragments/components/thumbnailLink::script" />
</th:block>